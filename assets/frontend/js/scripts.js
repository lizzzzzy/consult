"use strict";function isvalidemail(e){var t=e.split("@");if(2!==t.length)return!1;for(var n=t[0],a=t[1],r=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z",".","0","1","2","3","4","5","6","7","8","9","_","-"],i=0;i<n.length;i+=1)if(r.indexOf(n.charAt(i))<0)return!1;for(var o=0;o<a.length;o+=1)if(r.indexOf(a.charAt(o))<0)return!1;if(a.indexOf(".")<=0)return!1;var c=a.split(".");return!(c[c.length-1].length<2)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(e){var t,n=navigator.userAgent,a=/iphone/i.test(n),r=/chrome/i.test(n),i=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,o){var c,l,u,s,f,d,m,h;if(!n&&this.length>0){c=e(this[0]);var p=c.data(e.mask.dataName);return p?p():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),l=e.mask.definitions,u=[],s=m=n.length,f=null,e.each(n.split(""),function(e,t){"?"==t?(m--,s=e):l[t]?(u.push(new RegExp(l[t])),null===f&&(f=u.length-1),s>e&&(d=u.length-1)):u.push(null)}),this.trigger("unmask").each(function(){function c(){if(o.completed){for(var e=f;d>=e;e++)if(u[e]&&w[e]===p(e))return;o.completed.call(q)}}function p(e){return o.placeholder.charAt(e<o.placeholder.length?e:0)}function g(e){for(;++e<m&&!u[e];);return e}function v(e){for(;--e>=0&&!u[e];);return e}function b(e,t){var n,a;if(!(0>e)){for(n=e,a=g(t);m>n;n++)if(u[n]){if(!(m>a&&u[n].test(w[a])))break;w[n]=w[a],w[a]=p(a),a=g(a)}N(),q.caret(Math.max(f,e))}}function y(e){var t,n,a,r;for(t=e,n=p(e);m>t;t++)if(u[t]){if(a=g(t),r=w[t],w[t]=n,!(m>a&&u[a].test(r)))break;n=r}}function k(){var e=q.val(),t=q.caret();if(h&&h.length&&h.length>e.length){for(R(!0);t.begin>0&&!u[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<f&&!u[t.begin];)t.begin++;q.caret(t.begin,t.begin)}else{for(R(!0);t.begin<m&&!u[t.begin];)t.begin++;q.caret(t.begin,t.begin)}c()}function x(){R(),q.val()!=L&&q.change()}function S(e){if(!q.prop("readonly")){var t,n,r,i=e.which||e.keyCode;h=q.val(),8===i||46===i||a&&127===i?(t=q.caret(),n=t.begin,r=t.end,r-n===0&&(n=46!==i?v(n):r=g(n-1),r=46===i?g(r):r),A(n,r),b(n,r-1),e.preventDefault()):13===i?x.call(this,e):27===i&&(q.val(L),q.caret(0,R()),e.preventDefault())}}function j(t){if(!q.prop("readonly")){var n,a,r,o=t.which||t.keyCode,l=q.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>o)&&o&&13!==o){if(l.end-l.begin!==0&&(A(l.begin,l.end),b(l.begin,l.end-1)),n=g(l.begin-1),m>n&&(a=String.fromCharCode(o),u[n].test(a))){if(y(n),w[n]=a,N(),r=g(n),i){var s=function(){e.proxy(e.fn.caret,q,r)()};setTimeout(s,0)}else q.caret(r);l.begin<=d&&c()}t.preventDefault()}}}function A(e,t){var n;for(n=e;t>n&&m>n;n++)u[n]&&(w[n]=p(n))}function N(){q.val(w.join(""))}function R(e){var t,n,a,r=q.val(),i=-1;for(t=0,a=0;m>t;t++)if(u[t]){for(w[t]=p(t);a++<r.length;)if(n=r.charAt(a-1),u[t].test(n)){w[t]=n,i=t;break}if(a>r.length){A(t+1,m);break}}else w[t]===r.charAt(a)&&a++,s>t&&(i=t);return e?N():s>i+1?o.autoclear||w.join("")===E?(q.val()&&q.val(""),A(0,m)):N():(N(),q.val(q.val().substring(0,i+1))),s?t:f}var q=e(this),w=e.map(n.split(""),function(e,t){return"?"!=e?l[e]?p(t):e:void 0}),E=w.join(""),L=q.val();q.data(e.mask.dataName,function(){return e.map(w,function(e,t){return u[t]&&e!=p(t)?e:null}).join("")}),q.one("unmask",function(){q.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!q.prop("readonly")){clearTimeout(t);var e;L=q.val(),e=R(),t=setTimeout(function(){q.get(0)===document.activeElement&&(N(),e==n.replace("?","").length?q.caret(0,e):q.caret(e))},10)}}).on("blur.mask",x).on("keydown.mask",S).on("keypress.mask",j).on("input.mask paste.mask",function(){q.prop("readonly")||setTimeout(function(){var e=R(!0);q.caret(e),c()},0)}),r&&i&&q.off("input.mask").on("input.mask",k),R()})}})}),jQuery(function(e){e(".phone-input").mask("+7(999) 999-9999")});var subscribeBtn=document.querySelectorAll(".submit-btn");subscribeBtn.forEach(function(e,t){e.addEventListener("click",function(){e.preventDefault;var t=e.parentNode,n=t.querySelector(".email"),a=n.value;isvalidemail(a)?(e.parentNode.classList.add("success"),e.parentNode.classList.remove("error"),n.classList.remove("invalid")):(n.classList.add("invalid"),e.parentNode.classList.add("error"))})});